<h3 class="center-align">All Games</h3>
<div class="row">
  <div id="game-card" class="card medium col s2" ng-repeat="game in games | filter:search:strict | orderBy: 'created_at':true | filter:{system: system} track by $index">
    <div class="game-image">
    <h4 id="card-game-title" class="margin-auto">{{game.gameName}}</h4>
    </div>
    <h6 class="platform-name"><strong>Platform:</strong> {{game.system}}</h6>
    <h6 platform-name><strong>Gamertag:</strong> {{game.gamerId}}</h6>
    <hr>
    <p><strong>Description:</strong> {{game.desc}}<p>
    <small><p id="mic-req-p"><strong>Microphone required |</strong> {{game.micReq ? 'Yes' : 'No'}}</p></small>
    <small><p class="lang-creat-margin"><strong>Language:</strong> {{game.lang}}</p></small>
    <small><p class="inline lang-creat-margin""><strong>Created At:</strong> {{indexCtrl.formatTime(game.date)}}</p></small>
    <a href="#modal1" ng-click="setEmail(game.user.email)" ng-show="navCtrl.isLoggedIn()" id="msg-btn" class="btn-floating btn-small waves-effect waves-light red"><i class="material-icons">email</i></a>
  </div>
</div>

<!-- Message Modal -->
<div id="modal1" class="modal">
  <div class="modal-content">
    <h4>Send Message To {{user_name}}</h4>
    <input placeholder="Your Gamer Name Here..." type="text" class="validate" ng-model="indexCtrl.subject">
    <textarea class="materialize-textarea" placeholder="Your Message Here..." ng-model="indexCtrl.text"></textarea>
    <a class='btn validate modal-close' ng-click="indexCtrl.sendEmail(user_email)">Send Message</a>
  </div>
  <div class="modal-footer">
    <a href="#!" class=" modal-action modal-close waves-effect waves-green btn-flat">Cancel</a>
  </div>
</div>

<script>
  $(document).ready(function() {
    $('select').material_select();
  });

  $(document).ready(function(){
  // the "href" attribute of .modal-trigger must specify the modal ID that wants to be triggered
    $('.modal').modal();
  });
</script>

